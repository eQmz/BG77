\doxysection{Referencia del archivo BG77.\+c}
\hypertarget{_b_g77_8c}{}\label{_b_g77_8c}\index{BG77.c@{BG77.c}}
{\ttfamily \#include "{}../\+BG77/\+BG77.\+h"{}}\newline
\doxysubsubsection*{Estructuras de datos}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structbg__info_t_m__t}{bg\+\_\+info\+TM\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsubsection*{defines}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{_b_g77_8c_a5fac396b9ed58df9c81d3fc710cb46aa}\label{_b_g77_8c_a5fac396b9ed58df9c81d3fc710cb46aa} 
\#define {\bfseries flg\+\_\+uart\+\_\+bg}~flag.\+f0
\item 
\Hypertarget{_b_g77_8c_ac25ee5a91f1bac53e3fd755ac65e7bc4}\label{_b_g77_8c_ac25ee5a91f1bac53e3fd755ac65e7bc4} 
\#define {\bfseries flg\+\_\+tout\+\_\+bg}~flag.\+f1
\item 
\Hypertarget{_b_g77_8c_a976cbb519eb775ef1d54256b4e119ca6}\label{_b_g77_8c_a976cbb519eb775ef1d54256b4e119ca6} 
\#define {\bfseries NOMBRE\+\_\+\+USR\+\_\+4}~flag.\+f3
\item 
\Hypertarget{_b_g77_8c_a15ff4d8c1b5fa2faa51e969f56b9d2fb}\label{_b_g77_8c_a15ff4d8c1b5fa2faa51e969f56b9d2fb} 
\#define {\bfseries NOMBRE\+\_\+\+USR\+\_\+5}~flag.\+f4
\item 
\Hypertarget{_b_g77_8c_a586bed11547ea6e1e57a8bdda083a8af}\label{_b_g77_8c_a586bed11547ea6e1e57a8bdda083a8af} 
\#define {\bfseries NOMBRE\+\_\+\+USR\+\_\+6}~flag.\+f5
\item 
\Hypertarget{_b_g77_8c_a07d052ea6a96e4c6605b662c1bb0e30e}\label{_b_g77_8c_a07d052ea6a96e4c6605b662c1bb0e30e} 
\#define {\bfseries NOMBRE\+\_\+\+USR\+\_\+7}~flag.\+f6
\item 
\Hypertarget{_b_g77_8c_a040293cf9e43259ae0f70a04add73c97}\label{_b_g77_8c_a040293cf9e43259ae0f70a04add73c97} 
\#define {\bfseries NOMBRE\+\_\+\+USR\+\_\+8}~flag.\+f7
\end{DoxyCompactItemize}
\doxysubsubsection*{typedefs}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{_b_g77_8c_a677e269047378089996131ddfb31ac4e}\label{_b_g77_8c_a677e269047378089996131ddfb31ac4e} 
typedef enum bg\+\_\+status\+TM\+\_\+t {\bfseries bg\+\_\+status\+TM\+\_\+t}
\begin{DoxyCompactList}\small\item\em Este tipo de variable hace referencia a los valores de estado de modo transparente. Su proposito es tener valores estandarizados para conocer el estado del modo transparente (activado o desactivado). \end{DoxyCompactList}\item 
typedef struct bg\+\_\+info\+TM\+\_\+t \mbox{\hyperlink{_b_g77_8c_aa26e4091b2bb35aa6e9abf460d50d8f6}{bg\+\_\+info\+TM\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Este tipo de variable contiene el estado del modo transparente y el ultimo numero de conexion (connect\+ID) en modo transparente. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Enumeraciones}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{_b_g77_8c_a67a632de7edf16c5c570e06b5c4985c3}\label{_b_g77_8c_a67a632de7edf16c5c570e06b5c4985c3} 
enum {\bfseries bg\+\_\+status\+TM\+\_\+t} \{ {\bfseries BG\+\_\+\+TM\+\_\+\+INACTIVE}
, {\bfseries BG\+\_\+\+TM\+\_\+\+ACTIVE}
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Funciones}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_b_g77_8c_a3f93ee3bfd2996fa41f5f9425dc83431}{bg\+\_\+set\+\_\+bsp}} (\mbox{\hyperlink{structbg__bsp_fun__t}{bg\+\_\+bsp\+Fun\+\_\+t}} bsp\+Fun)
\begin{DoxyCompactList}\small\item\em Funcion para establecer los punteros a función del BSP (UART TX, Delay, GPIO\+\_\+write, Reset de MCU). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_b_g77_8c_aa422c5730073a35ffc37421e44a6c632}{bg\+\_\+callback\+\_\+ms}} (void)
\begin{DoxyCompactList}\small\item\em Esta funcion de callback se tiene que llamar en una funcion de interrupción de temporizador en donde se genere cada 1ms. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_b_g77_8c_acd4a161fbac7d28353ca438b91e0520b}{bg\+\_\+uart\+Callback}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}buff, uint16\+\_\+t n\+Bytes)
\begin{DoxyCompactList}\small\item\em Esta funcion de callback se debe llamar en una funcion de interrupcion de recepcion de uart en la cual se debe pasar el buffer y el tamaño del mensaje recibido por UART. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_b_g77_8c_a796fbdf47278af0a696da945fa907110}{bg\+\_\+main\+RICallback}} (\mbox{\hyperlink{_b_g77_8h_ab0ebc1ea018349b5e09729ddad2f443e}{main\+Ri\+Edge\+\_\+t}} edge)
\begin{DoxyCompactList}\small\item\em Esta funcion de callback se debe llamar en una funcion de interrupcion de pin digital que corresponde al pin MAIN\+\_\+\+RI del modulo de comunicaciones en la cual se debe especificar el flanco generado. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_b_g77_8c_a3f03c39804aa65f885946b3f30d6b4fc}{bg\+\_\+handle\+\_\+urc}} (void)
\begin{DoxyCompactList}\small\item\em Esta funcion se encarga de manejar los URC encolados. ~\newline
 Si hay un URC encolado, se procede a parsearlo y a llamar a un callback para entregar informacion parseada al usuario. Por defecto llama a la \doxylink{_b_g77_8h_a182c6ca209fecf25da97f51f1eaf5550}{bg\+\_\+urc\+\_\+parsed\+\_\+callback(urc\+Info\+Data\+\_\+t info\+Urc)} para indicar el resultado de URC;. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a952e9d1543029fccfb87e8e133b68122}{bg\+\_\+send}} (uint32\+\_\+t timeout, uint8\+\_\+t enable\+Print, const char \texorpdfstring{$\ast$}{*}fmt,...)
\begin{DoxyCompactList}\small\item\em Esta funcion permite enviar comandos AT en formato de especificadores de formato (como printf) \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_ae23a60b4e1b7f50ea3cdd0927640e0de}{bg\+\_\+power\+\_\+on}} (void)
\begin{DoxyCompactList}\small\item\em Esta funcion realiza la secuencia necesaria de los pines BG\+\_\+\+PWRKEY\+\_\+\+PIN, BG\+\_\+\+VBAT\+\_\+\+PIN, BG\+\_\+\+RESET\+\_\+\+PIN para encender al modulo de comunicación. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_ae05b151b88c27bed92a5a91c4cb9781f}{bg\+\_\+power\+\_\+off}} (void)
\begin{DoxyCompactList}\small\item\em Realiza el apagado del modulo con el comando AT+\+QPOWD. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_ad9920b9e69487d843b87ace0fb65535f}{bg\+\_\+init\+\_\+module}} (void)
\begin{DoxyCompactList}\small\item\em Funcion para inicializar el modulo. Sus funciones son encender y configurar el modulo. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a5b05e846b42156e0bd04539d036e77e5}{bg\+\_\+data\+\_\+module}} (void)
\begin{DoxyCompactList}\small\item\em Funcion para imprimir la version de FW del modulo, ICCI e IMEI. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a6fdf52da4e8bf69a4e9130163ae5e7be}{bg\+\_\+check\+\_\+sim}} (void)
\begin{DoxyCompactList}\small\item\em Funcion para detectar SIM. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a560f384f98c140a53d8fc8f5b32b5e19}{bg\+\_\+check\+\_\+attach}} (void)
\begin{DoxyCompactList}\small\item\em Funcion para verificar el registro en red. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_adfa333fa2fbd83d8d555f78174c312d4}{bg\+\_\+query\+\_\+cops}} (void)
\begin{DoxyCompactList}\small\item\em Funcion que imprime parametros de la consulta de COPS modo, operador, tecnologia de acceso. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_ac5b7a9c29733548542fd9372f5333273}{bg\+\_\+query\+\_\+conf\+\_\+pdp}} (uint8\+\_\+t context\+ID)
\begin{DoxyCompactList}\small\item\em Funcion que imprime parametros de la configuracion de contexto PDP (APN, USER, PASSWORD, AUTHENTICATION) \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_ae28f36ea82838abfdca0118d7af70da7}{bg\+\_\+check\+\_\+pdp}} (uint8\+\_\+t ctxt\+ID)
\begin{DoxyCompactList}\small\item\em Verifica que se tenga activado el contexto PDP seleccionado (context\+ID) \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_ac4a2455d92827db1c3cf0ba553a05bb8}{bg\+\_\+check\+\_\+sckt}} (uint8\+\_\+t connect\+ID)
\begin{DoxyCompactList}\small\item\em Verifica el estado de una conexion. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a65c9f56b02078e837debb481fff49182}{bg\+\_\+query\+\_\+signal}} (void)
\begin{DoxyCompactList}\small\item\em Consulta la intensidad de la señal cuando el modulo ya esta registrado. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a1c0f09b53bcd76cc17f7be1d95778898}{bg\+\_\+attach}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}operator)
\begin{DoxyCompactList}\small\item\em Funcion para registrar el modulo en la red (attach). \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_ab3e3ace987b490e788e45c77d2762cc3}{bg\+\_\+conf\+\_\+pdp}} (\mbox{\hyperlink{structbg__ctx_pdp__t}{bg\+\_\+ctx\+Pdp\+\_\+t}} context\+PDP)
\begin{DoxyCompactList}\small\item\em Configura los parametros de contexto PDP que se quiere activar. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_ae8e29b80c35bbfef04dde3dea52f459e}{bg\+\_\+pdp\+\_\+activation}} (uint8\+\_\+t ctxt\+ID, \mbox{\hyperlink{_b_g77_8h_a4ad1b226966cfdfeedb106c0a8cf2250}{bg\+\_\+act\+Pdp\+\_\+t}} act)
\begin{DoxyCompactList}\small\item\em Activa o desactiva el contexto PDP previamente configurado. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a6fcaeffa8a8411da9bd284564e9cbd83}{bg\+\_\+open\+\_\+sckt}} (\mbox{\hyperlink{structbg_sckt__t}{bg\+Sckt\+\_\+t}} sckt)
\begin{DoxyCompactList}\small\item\em Abre una conexion (socket) TCP en modo servidor o cliente. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a5ed9330e905321630088fe6a84c5a5de}{bg\+\_\+transparent\+\_\+mode}} (uint8\+\_\+t connect\+ID)
\begin{DoxyCompactList}\small\item\em Permite al dispositio cambiar su modo de acceso a modo transparente. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a453a9ac99a62c6fafe71b5179086ee97}{bg\+\_\+exit\+\_\+transparent\+\_\+mode}} (void)
\begin{DoxyCompactList}\small\item\em Hace que el dispositivo salga de modo transparente. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a803afbdc8df8c4db1b6f0267816954c8}{bg\+\_\+close\+\_\+sckt}} (uint8\+\_\+t connect\+ID)
\begin{DoxyCompactList}\small\item\em Cierra una conexion o socket. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a04ad0c65991cef2200cc99a9910a6ef7}{bg\+\_\+detach}} (void)
\begin{DoxyCompactList}\small\item\em Sirve para desregistrar el modulo de la red (detach). \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a4324d29bee02aaf36d6d7dc3d54fa1b7}{bg\+\_\+transmit\+\_\+buff\+AMode}} (uint8\+\_\+t connect\+ID, uint8\+\_\+t \texorpdfstring{$\ast$}{*}data, uint16\+\_\+t len)
\begin{DoxyCompactList}\small\item\em Funcion para transmitir mensajes por un socket que esta en modo buffer access mode. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a22e89067926540a7db799cf50725070b}{bg\+\_\+receive\+\_\+buff\+AMode}} (uint8\+\_\+t connect\+ID, uint8\+\_\+t \texorpdfstring{$\ast$}{*}buff, uint16\+\_\+t \texorpdfstring{$\ast$}{*}len)
\begin{DoxyCompactList}\small\item\em Funcion que se encarga de recuperar los datos recibidos por una conexion en buffer access mode. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} \mbox{\hyperlink{_b_g77_8c_a2eb4e7ff0044a4ccb914381d9ae25265}{bg\+\_\+transmit\+\_\+\+TM}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}data, uint16\+\_\+t len)
\begin{DoxyCompactList}\small\item\em Transmite datos en modo transparente. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void \mbox{\hyperlink{_b_g77_8c_ad0fda8eacad5ae93b44f5205e4defd90}{bg\+\_\+callback\+\_\+urc\+Detected}} (urc\+Raw\+Data\+\_\+t urc\+Data)
\begin{DoxyCompactList}\small\item\em Esta funcion corresponde a un callback para el usuario. Esta funcion se llamara cuando se detecte un URC. La libreria tiene su callback por defecto y lo que hace es encolar el URC recibido en una cola interna de la libreria. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void \mbox{\hyperlink{_b_g77_8c_aaa55f9ad9670475441d404a86c27f732}{bg\+\_\+urc\+\_\+parsed\+\_\+callback}} (\mbox{\hyperlink{structurc_info_data__t}{urc\+Info\+Data\+\_\+t}} info\+Urc)
\begin{DoxyCompactList}\small\item\em Esta funcion es un callback en donde se le va a entregar al usuario la informacion util de un URC detectado y parseado. La funcion por defecto de la libreria, se dedica a realizar el tratamiento o manejo correspondiente al URC que se presenta. Ejemplo\+: Si se presenta un URC de cierre de socket procede a cerrar dicho socket. Si se presenta un URC de mensaje RECV procede a recuperarlo y entregarlo en un callback (mensaje, tamaño en bytes, conexion). \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void \mbox{\hyperlink{_b_g77_8c_acdaa58d150ec7d4d1a5609e0770643b2}{bg\+\_\+recv\+\_\+callback}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}buff, uint16\+\_\+t len, uint8\+\_\+t connect\+ID)
\begin{DoxyCompactList}\small\item\em Esta funcion es un callback que notifica al usuario que se recibio un mensaje de alguna conexion en modo buffer access mode. Este callback se llama en \doxylink{_b_g77_8h_a182c6ca209fecf25da97f51f1eaf5550}{bg\+\_\+urc\+\_\+parsed\+\_\+callback(urc\+Info\+Data\+\_\+t info\+Urc)} al detectar y parsear un URC RECV y entrega al usuario el mensaje, tamaño en bytes y el numero de conexion que recibio dicho mensaje. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void \mbox{\hyperlink{_b_g77_8c_a10f9ce690b16f36b9229fecd740a6895}{bg\+\_\+incomming\+\_\+callback}} (uint8\+\_\+t server\+ID, uint8\+\_\+t connect\+ID)
\begin{DoxyCompactList}\small\item\em Esta funcion corresponde a un callback que notifica al usuario la ocurrencia de una conexion entrante a algun servidor del modulo. Esta se llama en \doxylink{_b_g77_8h_a182c6ca209fecf25da97f51f1eaf5550}{bg\+\_\+urc\+\_\+parsed\+\_\+callback(urc\+Info\+Data\+\_\+t info\+Urc)} al detectar y parsear un URC INCOMMING y entrega al usuario el server\+ID y el connect\+ID de la conexion entrante. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void \mbox{\hyperlink{_b_g77_8c_a82f08c1cbe0edd3995c157be6ecd4b31}{bg\+\_\+callback\+\_\+receive\+\_\+\+TM}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}buff, uint16\+\_\+t n\+Bytes)
\begin{DoxyCompactList}\small\item\em Esta funcion es un callback que notifica al usuario de un mensaje que se recibe en modo transparente. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void \mbox{\hyperlink{_b_g77_8c_a735707a118cf1461601c586b3fb56060}{bg\+\_\+callback\+\_\+closed\+\_\+\+TM}} (void)
\begin{DoxyCompactList}\small\item\em Esta funcion es un callback que notifica al usuario que la conexion en modo transparente se cerro. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void \mbox{\hyperlink{_b_g77_8c_ac828183e261ff8d14f033e5b1b651625}{bg\+\_\+pdp\+\_\+activation\+\_\+callback}} (uint8\+\_\+t context\+ID)
\begin{DoxyCompactList}\small\item\em Este callback notifica al usuario que hubo una reactivacion de contexto PDP debido al URC "{}pdp deact"{} LA funcion por defecto imprime un mensaje del contexto que se reactivo. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void \mbox{\hyperlink{_b_g77_8c_acefe623eef8bd29ed0f69a9d65e092a7}{bg\+\_\+callback\+\_\+\+TM\+\_\+\+Inactive}} (uint8\+\_\+t connect\+ID, \mbox{\hyperlink{_b_g77_8h_a2eda4d5bf02084b0c05dbc21810a5e82}{bg\+\_\+no\+Carrier\+TM\+\_\+t}} status\+No\+Carrier)
\begin{DoxyCompactList}\small\item\em Esta funcion de callback notifica al usuario que no hay más URC por atender y se esta fuera de modo transparente. Esta funcion se llama en bg\+\_\+handle(void) y su proposito es recordar al usuario de que tiene posibilidad de entrar en modo transparente. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_b_g77_8c_accb6d774575fa4349a922b7194d36b95}{bg\+\_\+queue\+\_\+put}} (urc\+Raw\+Data\+\_\+t urc)
\begin{DoxyCompactList}\small\item\em Esta funcion hacer uso de la cola interna de URC de la libreria y encola mensajes del tipo urc\+Raw\+Data\+\_\+t. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_b_g77_8c_a417fbe13aaac91032b2cf5fe5fbabba3}{bg\+\_\+queue\+\_\+pop}} (urc\+Raw\+Data\+\_\+t \texorpdfstring{$\ast$}{*}urc)
\begin{DoxyCompactList}\small\item\em Esta funcion hacer uso de la cola interna de URC de la libreria y desencola mensajes del tipo urc\+Raw\+Data\+\_\+t. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{_b_g77_8c_a00a186528d54e0162b4ec31902db106b}{bg\+\_\+queue\+\_\+is\+\_\+empty}} (void)
\begin{DoxyCompactList}\small\item\em Indica si la cola interna esta vacia. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{_b_g77_8c_a61963d30f7d309a7ae1cf8eeed599605}{bg\+\_\+queue\+\_\+is\+\_\+full}} (void)
\begin{DoxyCompactList}\small\item\em Indica si la cola interna esta llena. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{_b_g77_8c_a229ea53410e623505dd117ee9a434d93}\label{_b_g77_8c_a229ea53410e623505dd117ee9a434d93} 
Cola\+\_\+t {\bfseries bg\+Urc\+Queue}
\end{DoxyCompactItemize}


\doxysubsection{Descripción detallada}
\begin{DoxyAuthor}{Autor}
EM2 
\end{DoxyAuthor}
\begin{DoxyDate}{Fecha}
2025-\/02-\/06 
\end{DoxyDate}


\doxysubsection{Documentación de «typedef»}
\Hypertarget{_b_g77_8c_aa26e4091b2bb35aa6e9abf460d50d8f6}\index{BG77.c@{BG77.c}!bg\_infoTM\_t@{bg\_infoTM\_t}}
\index{bg\_infoTM\_t@{bg\_infoTM\_t}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_infoTM\_t}{bg\_infoTM\_t}}
{\footnotesize\ttfamily \label{_b_g77_8c_aa26e4091b2bb35aa6e9abf460d50d8f6} 
typedef struct bg\+\_\+info\+TM\+\_\+t bg\+\_\+info\+TM\+\_\+t}



Este tipo de variable contiene el estado del modo transparente y el ultimo numero de conexion (connect\+ID) en modo transparente. 

Su proposito es almacenar y proporcionar la informacion necesaria del modo transparente (estado y numero de conexion) 

\doxysubsection{Documentación de funciones}
\Hypertarget{_b_g77_8c_a1c0f09b53bcd76cc17f7be1d95778898}\index{BG77.c@{BG77.c}!bg\_attach@{bg\_attach}}
\index{bg\_attach@{bg\_attach}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_attach()}{bg\_attach()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a1c0f09b53bcd76cc17f7be1d95778898} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+attach (\begin{DoxyParamCaption}\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{operator}{}\end{DoxyParamCaption})}



Funcion para registrar el modulo en la red (attach). 


\begin{DoxyParams}{Parámetros}
{\em operator} & Es la operadora del SIM. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si el modulo consigue registrarse se espera BG\+\_\+\+OK\+\_\+\+ATTACH. 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a735707a118cf1461601c586b3fb56060}\index{BG77.c@{BG77.c}!bg\_callback\_closed\_TM@{bg\_callback\_closed\_TM}}
\index{bg\_callback\_closed\_TM@{bg\_callback\_closed\_TM}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_callback\_closed\_TM()}{bg\_callback\_closed\_TM()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a735707a118cf1461601c586b3fb56060} 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void bg\+\_\+callback\+\_\+closed\+\_\+\+TM (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Esta funcion es un callback que notifica al usuario que la conexion en modo transparente se cerro. 

La funcion por defecto imprime el mensaje "{}\+Conexion remota cerro, fuera de TM\textbackslash{}n"{} \begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_aa422c5730073a35ffc37421e44a6c632}\index{BG77.c@{BG77.c}!bg\_callback\_ms@{bg\_callback\_ms}}
\index{bg\_callback\_ms@{bg\_callback\_ms}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_callback\_ms()}{bg\_callback\_ms()}}
{\footnotesize\ttfamily \label{_b_g77_8c_aa422c5730073a35ffc37421e44a6c632} 
void bg\+\_\+callback\+\_\+ms (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Esta funcion de callback se tiene que llamar en una funcion de interrupción de temporizador en donde se genere cada 1ms. 

Sirve para proveer a la libreria de un conteo de reloj y poder determinar tiempos de espera (timeouts). \begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a82f08c1cbe0edd3995c157be6ecd4b31}\index{BG77.c@{BG77.c}!bg\_callback\_receive\_TM@{bg\_callback\_receive\_TM}}
\index{bg\_callback\_receive\_TM@{bg\_callback\_receive\_TM}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_callback\_receive\_TM()}{bg\_callback\_receive\_TM()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a82f08c1cbe0edd3995c157be6ecd4b31} 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void bg\+\_\+callback\+\_\+receive\+\_\+\+TM (\begin{DoxyParamCaption}\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{buff}{, }\item[{uint16\+\_\+t}]{n\+Bytes}{}\end{DoxyParamCaption})}



Esta funcion es un callback que notifica al usuario de un mensaje que se recibe en modo transparente. 


\begin{DoxyParams}{Parámetros}
{\em buff} & puntero a funcion en donde se tiene el mensaje recibido. \\
\hline
{\em n\+Bytes} & numero de bytes recibidos. \\
\hline
\end{DoxyParams}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_acefe623eef8bd29ed0f69a9d65e092a7}\index{BG77.c@{BG77.c}!bg\_callback\_TM\_Inactive@{bg\_callback\_TM\_Inactive}}
\index{bg\_callback\_TM\_Inactive@{bg\_callback\_TM\_Inactive}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_callback\_TM\_Inactive()}{bg\_callback\_TM\_Inactive()}}
{\footnotesize\ttfamily \label{_b_g77_8c_acefe623eef8bd29ed0f69a9d65e092a7} 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void bg\+\_\+callback\+\_\+\+TM\+\_\+\+Inactive (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{connect\+ID}{, }\item[{\mbox{\hyperlink{_b_g77_8h_a2eda4d5bf02084b0c05dbc21810a5e82}{bg\+\_\+no\+Carrier\+TM\+\_\+t}}}]{status\+No\+Carrier}{}\end{DoxyParamCaption})}



Esta funcion de callback notifica al usuario que no hay más URC por atender y se esta fuera de modo transparente. Esta funcion se llama en bg\+\_\+handle(void) y su proposito es recordar al usuario de que tiene posibilidad de entrar en modo transparente. 

La funcion por defecto de la libreria verifica que la ultima conexion de modo transparente este abierta y si es asi, procede a activar el modo transparente en esa conexion.


\begin{DoxyParams}{Parámetros}
{\em connect\+ID} & Es el connect\+ID de la ultima conexion en modo transparente.\\
\hline
{\em status\+No\+Carrier} & Notifica el motivo de salida de modo transparente. Si el valor de la variable es BG\+\_\+\+TM\+\_\+\+NO\+\_\+\+CARRIER\+\_\+\+SET, quiere decir que fue por desconexion del punto remoto. \\
\hline
\end{DoxyParams}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_ad0fda8eacad5ae93b44f5205e4defd90}\index{BG77.c@{BG77.c}!bg\_callback\_urcDetected@{bg\_callback\_urcDetected}}
\index{bg\_callback\_urcDetected@{bg\_callback\_urcDetected}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_callback\_urcDetected()}{bg\_callback\_urcDetected()}}
{\footnotesize\ttfamily \label{_b_g77_8c_ad0fda8eacad5ae93b44f5205e4defd90} 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void bg\+\_\+callback\+\_\+urc\+Detected (\begin{DoxyParamCaption}\item[{urc\+Raw\+Data\+\_\+t}]{urc\+Data}{}\end{DoxyParamCaption})}



Esta funcion corresponde a un callback para el usuario. Esta funcion se llamara cuando se detecte un URC. La libreria tiene su callback por defecto y lo que hace es encolar el URC recibido en una cola interna de la libreria. 

NOTE\+: El Usuario puede prescindir de ella y realizar su estrategia de manejo de URC en este punto.


\begin{DoxyParams}{Parámetros}
{\em urc\+Data} & Es una variable que contiene el buffer de informacion no analizada (o datos crudos) y el tipo de URC detectado. \\
\hline
\end{DoxyParams}
\Hypertarget{_b_g77_8c_a560f384f98c140a53d8fc8f5b32b5e19}\index{BG77.c@{BG77.c}!bg\_check\_attach@{bg\_check\_attach}}
\index{bg\_check\_attach@{bg\_check\_attach}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_check\_attach()}{bg\_check\_attach()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a560f384f98c140a53d8fc8f5b32b5e19} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+check\+\_\+attach (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Funcion para verificar el registro en red. 

\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si el modulo esta registrado se espera BG\+\_\+\+OK\+\_\+\+ATTACH 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_ae28f36ea82838abfdca0118d7af70da7}\index{BG77.c@{BG77.c}!bg\_check\_pdp@{bg\_check\_pdp}}
\index{bg\_check\_pdp@{bg\_check\_pdp}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_check\_pdp()}{bg\_check\_pdp()}}
{\footnotesize\ttfamily \label{_b_g77_8c_ae28f36ea82838abfdca0118d7af70da7} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+check\+\_\+pdp (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{ctxt\+ID}{}\end{DoxyParamCaption})}



Verifica que se tenga activado el contexto PDP seleccionado (context\+ID) 


\begin{DoxyParams}{Parámetros}
{\em ctxt\+ID} & Es el numero de contexto que se quiere verificar (rango 1-\/7).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si el contexto PDP del context\+ID esta activado retorna BG\+\_\+\+OK\+\_\+\+PDP\+\_\+\+ACT 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_ac4a2455d92827db1c3cf0ba553a05bb8}\index{BG77.c@{BG77.c}!bg\_check\_sckt@{bg\_check\_sckt}}
\index{bg\_check\_sckt@{bg\_check\_sckt}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_check\_sckt()}{bg\_check\_sckt()}}
{\footnotesize\ttfamily \label{_b_g77_8c_ac4a2455d92827db1c3cf0ba553a05bb8} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+check\+\_\+sckt (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{connect\+ID}{}\end{DoxyParamCaption})}



Verifica el estado de una conexion. 


\begin{DoxyParams}{Parámetros}
{\em connect\+ID} & el numero de conexion (rango 0-\/11) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si la conexion esta abierta devuelve BG\+\_\+\+OK\+\_\+\+CONNECT\+\_\+\+ID\+\_\+\+OPENNED. 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a6fdf52da4e8bf69a4e9130163ae5e7be}\index{BG77.c@{BG77.c}!bg\_check\_sim@{bg\_check\_sim}}
\index{bg\_check\_sim@{bg\_check\_sim}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_check\_sim()}{bg\_check\_sim()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a6fdf52da4e8bf69a4e9130163ae5e7be} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+check\+\_\+sim (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Funcion para detectar SIM. 

\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si todo esta bien se espera BG\+\_\+\+OK\+\_\+\+SIM 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a803afbdc8df8c4db1b6f0267816954c8}\index{BG77.c@{BG77.c}!bg\_close\_sckt@{bg\_close\_sckt}}
\index{bg\_close\_sckt@{bg\_close\_sckt}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_close\_sckt()}{bg\_close\_sckt()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a803afbdc8df8c4db1b6f0267816954c8} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+close\+\_\+sckt (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{connect\+ID}{}\end{DoxyParamCaption})}



Cierra una conexion o socket. 


\begin{DoxyParams}{Parámetros}
{\em connect\+ID} & Es el numero de conexion que se quiere cerrar. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si se consigue cerrar la conexion retorna BG\+\_\+\+OK\+\_\+\+CONNECT\+\_\+\+ID\+\_\+\+CLOSED. 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_ab3e3ace987b490e788e45c77d2762cc3}\index{BG77.c@{BG77.c}!bg\_conf\_pdp@{bg\_conf\_pdp}}
\index{bg\_conf\_pdp@{bg\_conf\_pdp}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_conf\_pdp()}{bg\_conf\_pdp()}}
{\footnotesize\ttfamily \label{_b_g77_8c_ab3e3ace987b490e788e45c77d2762cc3} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+conf\+\_\+pdp (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structbg__ctx_pdp__t}{bg\+\_\+ctx\+Pdp\+\_\+t}}}]{context\+PDP}{}\end{DoxyParamCaption})}



Configura los parametros de contexto PDP que se quiere activar. 


\begin{DoxyParams}{Parámetros}
{\em context\+PDP} & Es una estructura de datos que contiene los parametros de configuracion del contexto PDP. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si se configuro correctamente el contexto devolvera BG\+\_\+\+OK\+\_\+\+CONF\+\_\+\+PDP. 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a5b05e846b42156e0bd04539d036e77e5}\index{BG77.c@{BG77.c}!bg\_data\_module@{bg\_data\_module}}
\index{bg\_data\_module@{bg\_data\_module}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_data\_module()}{bg\_data\_module()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a5b05e846b42156e0bd04539d036e77e5} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+data\+\_\+module (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Funcion para imprimir la version de FW del modulo, ICCI e IMEI. 

\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si todo esta bien se espera BG\+\_\+\+OK 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a04ad0c65991cef2200cc99a9910a6ef7}\index{BG77.c@{BG77.c}!bg\_detach@{bg\_detach}}
\index{bg\_detach@{bg\_detach}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_detach()}{bg\_detach()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a04ad0c65991cef2200cc99a9910a6ef7} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+detach (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Sirve para desregistrar el modulo de la red (detach). 

\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si se consigue desregistrar al modulo de la red devuelve BG\+\_\+\+OK\+\_\+\+DETACH. 
\end{DoxyReturn}
\Hypertarget{_b_g77_8c_a453a9ac99a62c6fafe71b5179086ee97}\index{BG77.c@{BG77.c}!bg\_exit\_transparent\_mode@{bg\_exit\_transparent\_mode}}
\index{bg\_exit\_transparent\_mode@{bg\_exit\_transparent\_mode}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_exit\_transparent\_mode()}{bg\_exit\_transparent\_mode()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a453a9ac99a62c6fafe71b5179086ee97} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+exit\+\_\+transparent\+\_\+mode (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Hace que el dispositivo salga de modo transparente. 

\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si el modulo consigue salir de modo transpoarente retornara BG\+\_\+\+OK\+\_\+\+EXIT\+\_\+\+TRANSPARENT\+\_\+\+MODE. 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a3f03c39804aa65f885946b3f30d6b4fc}\index{BG77.c@{BG77.c}!bg\_handle\_urc@{bg\_handle\_urc}}
\index{bg\_handle\_urc@{bg\_handle\_urc}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_handle\_urc()}{bg\_handle\_urc()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a3f03c39804aa65f885946b3f30d6b4fc} 
void bg\+\_\+handle\+\_\+urc (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Esta funcion se encarga de manejar los URC encolados. ~\newline
 Si hay un URC encolado, se procede a parsearlo y a llamar a un callback para entregar informacion parseada al usuario. Por defecto llama a la \doxylink{_b_g77_8h_a182c6ca209fecf25da97f51f1eaf5550}{bg\+\_\+urc\+\_\+parsed\+\_\+callback(urc\+Info\+Data\+\_\+t info\+Urc)} para indicar el resultado de URC;. 

NOTE\+: El usuario puede presendir de esta funcion y hacer su propia estrategia de parseo de URC. Sin embargo, si se quiere utilizar esta funcion, esta se debe de colocar en un ciclo de poleo en el codigo principal de la aplicacion, asi como, usar las funciones \doxylink{_b_g77_8h_ae3aa6c8894b5afd4e7d9cc43750cdb31}{bg\+\_\+callback\+\_\+urc\+Detected(urc\+Raw\+Data\+\_\+t urc\+Data)} y \doxylink{_b_g77_8h_a182c6ca209fecf25da97f51f1eaf5550}{bg\+\_\+urc\+\_\+parsed\+\_\+callback(urc\+Info\+Data\+\_\+t info\+Urc)} que tiene por defecto la libreria (o en su defecto el usuario debera hacer la suyas propias tomando como base estas funciones). \begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a10f9ce690b16f36b9229fecd740a6895}\index{BG77.c@{BG77.c}!bg\_incomming\_callback@{bg\_incomming\_callback}}
\index{bg\_incomming\_callback@{bg\_incomming\_callback}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_incomming\_callback()}{bg\_incomming\_callback()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a10f9ce690b16f36b9229fecd740a6895} 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void bg\+\_\+incomming\+\_\+callback (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{server\+ID}{, }\item[{uint8\+\_\+t}]{connect\+ID}{}\end{DoxyParamCaption})}



Esta funcion corresponde a un callback que notifica al usuario la ocurrencia de una conexion entrante a algun servidor del modulo. Esta se llama en \doxylink{_b_g77_8h_a182c6ca209fecf25da97f51f1eaf5550}{bg\+\_\+urc\+\_\+parsed\+\_\+callback(urc\+Info\+Data\+\_\+t info\+Urc)} al detectar y parsear un URC INCOMMING y entrega al usuario el server\+ID y el connect\+ID de la conexion entrante. 

En la libreria la funcion por defecto solo imprime el server\+ID y el connect\+ID de la conexion entrante.


\begin{DoxyParams}{Parámetros}
{\em server\+ID} & \\
\hline
{\em connect\+ID} & \\
\hline
\end{DoxyParams}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_ad9920b9e69487d843b87ace0fb65535f}\index{BG77.c@{BG77.c}!bg\_init\_module@{bg\_init\_module}}
\index{bg\_init\_module@{bg\_init\_module}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_init\_module()}{bg\_init\_module()}}
{\footnotesize\ttfamily \label{_b_g77_8c_ad9920b9e69487d843b87ace0fb65535f} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+init\+\_\+module (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Funcion para inicializar el modulo. Sus funciones son encender y configurar el modulo. 

\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si todo esta bien se espera BG\+\_\+\+OK 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a796fbdf47278af0a696da945fa907110}\index{BG77.c@{BG77.c}!bg\_mainRICallback@{bg\_mainRICallback}}
\index{bg\_mainRICallback@{bg\_mainRICallback}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_mainRICallback()}{bg\_mainRICallback()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a796fbdf47278af0a696da945fa907110} 
void bg\+\_\+main\+RICallback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_b_g77_8h_ab0ebc1ea018349b5e09729ddad2f443e}{main\+Ri\+Edge\+\_\+t}}}]{edge}{}\end{DoxyParamCaption})}



Esta funcion de callback se debe llamar en una funcion de interrupcion de pin digital que corresponde al pin MAIN\+\_\+\+RI del modulo de comunicaciones en la cual se debe especificar el flanco generado. 

Sirve para proveer a la libreria la deteccion del cambio de estado en la entrada del pin MAIN\+\_\+\+RI.


\begin{DoxyParams}{Parámetros}
{\em edge} & Es el flanco que se genero en la interrupcion digital (se debe pasar MAIN\+\_\+\+RI\+\_\+\+EDGE\+\_\+\+FALLIN si se genero un flanco de bajada o MAIN\+\_\+\+RI\+\_\+\+EDGE\+\_\+\+RISING si se genero flanco de subida). \\
\hline
\end{DoxyParams}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a6fcaeffa8a8411da9bd284564e9cbd83}\index{BG77.c@{BG77.c}!bg\_open\_sckt@{bg\_open\_sckt}}
\index{bg\_open\_sckt@{bg\_open\_sckt}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_open\_sckt()}{bg\_open\_sckt()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a6fcaeffa8a8411da9bd284564e9cbd83} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+open\+\_\+sckt (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structbg_sckt__t}{bg\+Sckt\+\_\+t}}}]{sckt}{}\end{DoxyParamCaption})}



Abre una conexion (socket) TCP en modo servidor o cliente. 


\begin{DoxyParams}{Parámetros}
{\em sckt} & Es una estructura de datos que contiene todos los parametros necesarios para abrir una conexion. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si el modulo consigue abrir la conexion devolvera BG\+\_\+\+OK\+\_\+\+CONNECT\+\_\+\+ID\+\_\+\+OPENNED 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_ae8e29b80c35bbfef04dde3dea52f459e}\index{BG77.c@{BG77.c}!bg\_pdp\_activation@{bg\_pdp\_activation}}
\index{bg\_pdp\_activation@{bg\_pdp\_activation}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_pdp\_activation()}{bg\_pdp\_activation()}}
{\footnotesize\ttfamily \label{_b_g77_8c_ae8e29b80c35bbfef04dde3dea52f459e} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+pdp\+\_\+activation (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{ctxt\+ID}{, }\item[{\mbox{\hyperlink{_b_g77_8h_a4ad1b226966cfdfeedb106c0a8cf2250}{bg\+\_\+act\+Pdp\+\_\+t}}}]{act}{}\end{DoxyParamCaption})}



Activa o desactiva el contexto PDP previamente configurado. 


\begin{DoxyParams}{Parámetros}
{\em ctxt\+ID} & Numero de contexto PDP que se quiere activar/desactivar (rango 1-\/7). \\
\hline
{\em act} & Opcion que selecciona si se quiere activar o desactivar el contexto PDP especificado. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si se desactivo el contexto PDP correctamente devuelve BG\+\_\+\+OK\+\_\+\+PDP\+\_\+\+DEACT, si se activo el contexto PDP correctamente regresa BG\+\_\+\+OK\+\_\+\+PDP\+\_\+\+ACT. 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_ac828183e261ff8d14f033e5b1b651625}\index{BG77.c@{BG77.c}!bg\_pdp\_activation\_callback@{bg\_pdp\_activation\_callback}}
\index{bg\_pdp\_activation\_callback@{bg\_pdp\_activation\_callback}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_pdp\_activation\_callback()}{bg\_pdp\_activation\_callback()}}
{\footnotesize\ttfamily \label{_b_g77_8c_ac828183e261ff8d14f033e5b1b651625} 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void bg\+\_\+pdp\+\_\+activation\+\_\+callback (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{context\+ID}{}\end{DoxyParamCaption})}



Este callback notifica al usuario que hubo una reactivacion de contexto PDP debido al URC "{}pdp deact"{} LA funcion por defecto imprime un mensaje del contexto que se reactivo. 


\begin{DoxyParams}{Parámetros}
{\em context\+ID} & Es el numero de contexto que se desactivo \\
\hline
\end{DoxyParams}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_ae05b151b88c27bed92a5a91c4cb9781f}\index{BG77.c@{BG77.c}!bg\_power\_off@{bg\_power\_off}}
\index{bg\_power\_off@{bg\_power\_off}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_power\_off()}{bg\_power\_off()}}
{\footnotesize\ttfamily \label{_b_g77_8c_ae05b151b88c27bed92a5a91c4cb9781f} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+power\+\_\+off (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Realiza el apagado del modulo con el comando AT+\+QPOWD. 

\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si todo esta bien se espera BG\+\_\+\+OK 
\end{DoxyReturn}
\Hypertarget{_b_g77_8c_ae23a60b4e1b7f50ea3cdd0927640e0de}\index{BG77.c@{BG77.c}!bg\_power\_on@{bg\_power\_on}}
\index{bg\_power\_on@{bg\_power\_on}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_power\_on()}{bg\_power\_on()}}
{\footnotesize\ttfamily \label{_b_g77_8c_ae23a60b4e1b7f50ea3cdd0927640e0de} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+power\+\_\+on (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Esta funcion realiza la secuencia necesaria de los pines BG\+\_\+\+PWRKEY\+\_\+\+PIN, BG\+\_\+\+VBAT\+\_\+\+PIN, BG\+\_\+\+RESET\+\_\+\+PIN para encender al modulo de comunicación. 

\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Devuelve el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si todo esta bien se espera BG\+\_\+\+OK 
\end{DoxyReturn}
\Hypertarget{_b_g77_8c_ac5b7a9c29733548542fd9372f5333273}\index{BG77.c@{BG77.c}!bg\_query\_conf\_pdp@{bg\_query\_conf\_pdp}}
\index{bg\_query\_conf\_pdp@{bg\_query\_conf\_pdp}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_query\_conf\_pdp()}{bg\_query\_conf\_pdp()}}
{\footnotesize\ttfamily \label{_b_g77_8c_ac5b7a9c29733548542fd9372f5333273} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+query\+\_\+conf\+\_\+pdp (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{context\+ID}{}\end{DoxyParamCaption})}



Funcion que imprime parametros de la configuracion de contexto PDP (APN, USER, PASSWORD, AUTHENTICATION) 


\begin{DoxyParams}{Parámetros}
{\em context\+ID} & Es el contexto ID que se quiere consutar \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si todo esta bien retorna BG\+\_\+\+OK 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_adfa333fa2fbd83d8d555f78174c312d4}\index{BG77.c@{BG77.c}!bg\_query\_cops@{bg\_query\_cops}}
\index{bg\_query\_cops@{bg\_query\_cops}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_query\_cops()}{bg\_query\_cops()}}
{\footnotesize\ttfamily \label{_b_g77_8c_adfa333fa2fbd83d8d555f78174c312d4} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+query\+\_\+cops (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Funcion que imprime parametros de la consulta de COPS modo, operador, tecnologia de acceso. 

\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si se tiene un operador ya registrado regresa BG\+\_\+\+OK. 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a65c9f56b02078e837debb481fff49182}\index{BG77.c@{BG77.c}!bg\_query\_signal@{bg\_query\_signal}}
\index{bg\_query\_signal@{bg\_query\_signal}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_query\_signal()}{bg\_query\_signal()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a65c9f56b02078e837debb481fff49182} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+query\+\_\+signal (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Consulta la intensidad de la señal cuando el modulo ya esta registrado. 

\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si intensidad de señal es aceptable regresa BG\+\_\+\+OK\+\_\+\+SIGNAL. 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a00a186528d54e0162b4ec31902db106b}\index{BG77.c@{BG77.c}!bg\_queue\_is\_empty@{bg\_queue\_is\_empty}}
\index{bg\_queue\_is\_empty@{bg\_queue\_is\_empty}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_queue\_is\_empty()}{bg\_queue\_is\_empty()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a00a186528d54e0162b4ec31902db106b} 
uint8\+\_\+t bg\+\_\+queue\+\_\+is\+\_\+empty (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Indica si la cola interna esta vacia. 

\begin{DoxyReturn}{Devuelve}
uint8\+\_\+t Devuelve 1 en caso de que este vacia y 0 en caso contrario. 
\end{DoxyReturn}
\Hypertarget{_b_g77_8c_a61963d30f7d309a7ae1cf8eeed599605}\index{BG77.c@{BG77.c}!bg\_queue\_is\_full@{bg\_queue\_is\_full}}
\index{bg\_queue\_is\_full@{bg\_queue\_is\_full}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_queue\_is\_full()}{bg\_queue\_is\_full()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a61963d30f7d309a7ae1cf8eeed599605} 
uint8\+\_\+t bg\+\_\+queue\+\_\+is\+\_\+full (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Indica si la cola interna esta llena. 

\begin{DoxyReturn}{Devuelve}
uint8\+\_\+t Devuelve 1 en caso de que este llena y 0 en caso contrario. 
\end{DoxyReturn}
\Hypertarget{_b_g77_8c_a417fbe13aaac91032b2cf5fe5fbabba3}\index{BG77.c@{BG77.c}!bg\_queue\_pop@{bg\_queue\_pop}}
\index{bg\_queue\_pop@{bg\_queue\_pop}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_queue\_pop()}{bg\_queue\_pop()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a417fbe13aaac91032b2cf5fe5fbabba3} 
void bg\+\_\+queue\+\_\+pop (\begin{DoxyParamCaption}\item[{urc\+Raw\+Data\+\_\+t \texorpdfstring{$\ast$}{*}}]{urc}{}\end{DoxyParamCaption})}



Esta funcion hacer uso de la cola interna de URC de la libreria y desencola mensajes del tipo urc\+Raw\+Data\+\_\+t. 


\begin{DoxyParams}{Parámetros}
{\em urc} & Es un puntero a la variable en donde se quiere copiar el mensaje/evento desencolado. \\
\hline
\end{DoxyParams}
\Hypertarget{_b_g77_8c_accb6d774575fa4349a922b7194d36b95}\index{BG77.c@{BG77.c}!bg\_queue\_put@{bg\_queue\_put}}
\index{bg\_queue\_put@{bg\_queue\_put}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_queue\_put()}{bg\_queue\_put()}}
{\footnotesize\ttfamily \label{_b_g77_8c_accb6d774575fa4349a922b7194d36b95} 
void bg\+\_\+queue\+\_\+put (\begin{DoxyParamCaption}\item[{urc\+Raw\+Data\+\_\+t}]{urc}{}\end{DoxyParamCaption})}



Esta funcion hacer uso de la cola interna de URC de la libreria y encola mensajes del tipo urc\+Raw\+Data\+\_\+t. 

NOTE\+: La libreria usa esta cola cuando se usan los calbacks por defecto de la libreria bg\+\_\+callback\+\_\+urc\+Detected(urc\+Raw\+Data\+\_\+t urc\+Data, \doxylink{_b_g77_8h_a182c6ca209fecf25da97f51f1eaf5550}{bg\+\_\+urc\+\_\+parsed\+\_\+callback(urc\+Info\+Data\+\_\+t info\+Urc)} y la funcion de manejo de URC \doxylink{_b_g77_8h_a3f03c39804aa65f885946b3f30d6b4fc}{bg\+\_\+handle\+\_\+urc(void)}. 
\begin{DoxyParams}{Parámetros}
{\em urc} & Es la variable que contiene el dato/evento a encolar. \\
\hline
\end{DoxyParams}
\Hypertarget{_b_g77_8c_a22e89067926540a7db799cf50725070b}\index{BG77.c@{BG77.c}!bg\_receive\_buffAMode@{bg\_receive\_buffAMode}}
\index{bg\_receive\_buffAMode@{bg\_receive\_buffAMode}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_receive\_buffAMode()}{bg\_receive\_buffAMode()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a22e89067926540a7db799cf50725070b} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+receive\+\_\+buff\+AMode (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{connect\+ID}{, }\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{buff}{, }\item[{uint16\+\_\+t \texorpdfstring{$\ast$}{*}}]{len}{}\end{DoxyParamCaption})}



Funcion que se encarga de recuperar los datos recibidos por una conexion en buffer access mode. 


\begin{DoxyParams}{Parámetros}
{\em connect\+ID} & numero de conexion en la cual se recibio un mensaje. \\
\hline
{\em buff} & puntero a buffer en donde se copiara el mensaje recibido. \\
\hline
{\em len} & puntero a variable que almacene el numero de bytes recibidos en el mensaje. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si se consigue enviar el mensaje el modulo devuelve BG\+\_\+\+OK\+\_\+\+TRANSMIT. 
\end{DoxyReturn}
\Hypertarget{_b_g77_8c_acdaa58d150ec7d4d1a5609e0770643b2}\index{BG77.c@{BG77.c}!bg\_recv\_callback@{bg\_recv\_callback}}
\index{bg\_recv\_callback@{bg\_recv\_callback}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_recv\_callback()}{bg\_recv\_callback()}}
{\footnotesize\ttfamily \label{_b_g77_8c_acdaa58d150ec7d4d1a5609e0770643b2} 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void bg\+\_\+recv\+\_\+callback (\begin{DoxyParamCaption}\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{buff}{, }\item[{uint16\+\_\+t}]{len}{, }\item[{uint8\+\_\+t}]{connect\+ID}{}\end{DoxyParamCaption})}



Esta funcion es un callback que notifica al usuario que se recibio un mensaje de alguna conexion en modo buffer access mode. Este callback se llama en \doxylink{_b_g77_8h_a182c6ca209fecf25da97f51f1eaf5550}{bg\+\_\+urc\+\_\+parsed\+\_\+callback(urc\+Info\+Data\+\_\+t info\+Urc)} al detectar y parsear un URC RECV y entrega al usuario el mensaje, tamaño en bytes y el numero de conexion que recibio dicho mensaje. 

La funcion por defecto de la libreria solo imprime el mensaje recibido, el tamaño y el numero de connect\+ID 
\begin{DoxyParams}{Parámetros}
{\em buff} & Puntero a funcion que apunta al mensaje recibido. \\
\hline
{\em len} & Tamaño en bytes del mensaje recibido. \\
\hline
{\em connect\+ID} & Conexion de la cual se recibio el mensaje. \\
\hline
\end{DoxyParams}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a952e9d1543029fccfb87e8e133b68122}\index{BG77.c@{BG77.c}!bg\_send@{bg\_send}}
\index{bg\_send@{bg\_send}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_send()}{bg\_send()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a952e9d1543029fccfb87e8e133b68122} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+send (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{timeout}{, }\item[{uint8\+\_\+t}]{enable\+Print}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{fmt}{, }\item[{}]{...}{}\end{DoxyParamCaption})}



Esta funcion permite enviar comandos AT en formato de especificadores de formato (como printf) 


\begin{DoxyParams}{Parámetros}
{\em timeout} & Es el tiempo de espera para conseguir respuesta del modulo. La unidad de tiempo son segundos. \\
\hline
{\em enable\+Print} & Si tiene el valor de 0 no imprime la respuesta del modulo en el Log. Cualquier otro valor, imprime la respuesta. Es recomendable usar las MACROS LE (para imprimir respuesta) y LD (para NO imprimir la respuesta). \\
\hline
{\em fmt} & Es el formato del mensaje. \\
\hline
{\em ...} & Son los parametros variables que se utilizan en el formato del mensaje generado. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Retorna el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si todo esta bien se espera BG\+\_\+\+OK 
\end{DoxyReturn}
\Hypertarget{_b_g77_8c_a3f93ee3bfd2996fa41f5f9425dc83431}\index{BG77.c@{BG77.c}!bg\_set\_bsp@{bg\_set\_bsp}}
\index{bg\_set\_bsp@{bg\_set\_bsp}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_set\_bsp()}{bg\_set\_bsp()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a3f93ee3bfd2996fa41f5f9425dc83431} 
void bg\+\_\+set\+\_\+bsp (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structbg__bsp_fun__t}{bg\+\_\+bsp\+Fun\+\_\+t}}}]{bsp\+Fun}{}\end{DoxyParamCaption})}



Funcion para establecer los punteros a función del BSP (UART TX, Delay, GPIO\+\_\+write, Reset de MCU). 


\begin{DoxyParams}{Parámetros}
{\em bsp\+Fun} & Variable que contiene los punteros a funcion para el BSP. \\
\hline
\end{DoxyParams}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a4324d29bee02aaf36d6d7dc3d54fa1b7}\index{BG77.c@{BG77.c}!bg\_transmit\_buffAMode@{bg\_transmit\_buffAMode}}
\index{bg\_transmit\_buffAMode@{bg\_transmit\_buffAMode}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_transmit\_buffAMode()}{bg\_transmit\_buffAMode()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a4324d29bee02aaf36d6d7dc3d54fa1b7} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+transmit\+\_\+buff\+AMode (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{connect\+ID}{, }\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{uint16\+\_\+t}]{len}{}\end{DoxyParamCaption})}



Funcion para transmitir mensajes por un socket que esta en modo buffer access mode. 


\begin{DoxyParams}{Parámetros}
{\em connect\+ID} & numero de conexion a la que se quiere transmitir el mensaje. \\
\hline
{\em data} & puntero al buffer que contiene el dato a transmitir. \\
\hline
{\em len} & numero de bytes que se quieren transmitir del buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si se consigue enviar el mensaje el modulo devuelve BG\+\_\+\+OK\+\_\+\+TRANSMIT. 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a2eb4e7ff0044a4ccb914381d9ae25265}\index{BG77.c@{BG77.c}!bg\_transmit\_TM@{bg\_transmit\_TM}}
\index{bg\_transmit\_TM@{bg\_transmit\_TM}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_transmit\_TM()}{bg\_transmit\_TM()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a2eb4e7ff0044a4ccb914381d9ae25265} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+transmit\+\_\+\+TM (\begin{DoxyParamCaption}\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{uint16\+\_\+t}]{len}{}\end{DoxyParamCaption})}



Transmite datos en modo transparente. 

NOTE\+: Si no se tiene habilitado el modo transparente no envia nada por UART.


\begin{DoxyParams}{Parámetros}
{\em data} & Es el puntero al buffer que contiene el mensaje a transmitir. \\
\hline
{\em len} & Es el numero de bytes que se quieren transmitir. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_a5ed9330e905321630088fe6a84c5a5de}\index{BG77.c@{BG77.c}!bg\_transparent\_mode@{bg\_transparent\_mode}}
\index{bg\_transparent\_mode@{bg\_transparent\_mode}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_transparent\_mode()}{bg\_transparent\_mode()}}
{\footnotesize\ttfamily \label{_b_g77_8c_a5ed9330e905321630088fe6a84c5a5de} 
\mbox{\hyperlink{_b_g77_8h_af98be1c204049055208486fb2b91c87b}{bg\+\_\+err\+\_\+t}} bg\+\_\+transparent\+\_\+mode (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{connect\+ID}{}\end{DoxyParamCaption})}



Permite al dispositio cambiar su modo de acceso a modo transparente. 


\begin{DoxyParams}{Parámetros}
{\em connect\+ID} & Es el numero de conexion que se desea cambiar a modo transparente. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
bg\+\_\+err\+\_\+t Regresa el codigo de error basado en el tipo bg\+\_\+err\+\_\+t. Si el modulo consigue entrar en modo transpoarente retornara BG\+\_\+\+OK\+\_\+\+TRANSPARENT\+\_\+\+MODE. 
\end{DoxyReturn}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_acd4a161fbac7d28353ca438b91e0520b}\index{BG77.c@{BG77.c}!bg\_uartCallback@{bg\_uartCallback}}
\index{bg\_uartCallback@{bg\_uartCallback}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_uartCallback()}{bg\_uartCallback()}}
{\footnotesize\ttfamily \label{_b_g77_8c_acd4a161fbac7d28353ca438b91e0520b} 
void bg\+\_\+uart\+Callback (\begin{DoxyParamCaption}\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{buff}{, }\item[{uint16\+\_\+t}]{n\+Bytes}{}\end{DoxyParamCaption})}



Esta funcion de callback se debe llamar en una funcion de interrupcion de recepcion de uart en la cual se debe pasar el buffer y el tamaño del mensaje recibido por UART. 

Su funcion es proveer a la libreria todos los datos de recepcion por interrupcion de UART en el puerto correspondiente al modulo.


\begin{DoxyParams}{Parámetros}
{\em buff} & Es la direccion del buffer que contiene los datos recibidos en la interrupcion de UART. \\
\hline
{\em n\+Bytes} & Es el numero de bytes recibidos en la interrupcion de UART. \\
\hline
\end{DoxyParams}
\begin{Desc}
\item[Ejemplos]\par
\mbox{\hyperlink{_ejemplo__libreria-example}{Ejemplo\+\_\+\+Libreria}}.\end{Desc}
\Hypertarget{_b_g77_8c_aaa55f9ad9670475441d404a86c27f732}\index{BG77.c@{BG77.c}!bg\_urc\_parsed\_callback@{bg\_urc\_parsed\_callback}}
\index{bg\_urc\_parsed\_callback@{bg\_urc\_parsed\_callback}!BG77.c@{BG77.c}}
\doxysubsubsection{\texorpdfstring{bg\_urc\_parsed\_callback()}{bg\_urc\_parsed\_callback()}}
{\footnotesize\ttfamily \label{_b_g77_8c_aaa55f9ad9670475441d404a86c27f732} 
\mbox{\hyperlink{_b_g77_8h_ac5cdc584cf35c61f2875f1703ab9219b}{\+\_\+\+\_\+bg\+\_\+weak\+\_\+\+\_\+}} void bg\+\_\+urc\+\_\+parsed\+\_\+callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structurc_info_data__t}{urc\+Info\+Data\+\_\+t}}}]{info\+Urc}{}\end{DoxyParamCaption})}



Esta funcion es un callback en donde se le va a entregar al usuario la informacion util de un URC detectado y parseado. La funcion por defecto de la libreria, se dedica a realizar el tratamiento o manejo correspondiente al URC que se presenta. Ejemplo\+: Si se presenta un URC de cierre de socket procede a cerrar dicho socket. Si se presenta un URC de mensaje RECV procede a recuperarlo y entregarlo en un callback (mensaje, tamaño en bytes, conexion). 

NOTE\+: Esta funcion se llama en la funcion de manejo de URC \doxylink{_b_g77_8h_a3f03c39804aa65f885946b3f30d6b4fc}{bg\+\_\+handle\+\_\+urc(void)} despues de parsear el URC encolado. Sin embargo, el Usuario puede prescindir de ella y realizar su estrategia de manejo de URC en este punto. 
\begin{DoxyParams}{Parámetros}
{\em info\+Urc} & Es una variable que contiene la informacion util del URC. \\
\hline
\end{DoxyParams}
